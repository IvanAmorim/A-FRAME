<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      <a-sphere src="https://as1.ftcdn.net/v2/jpg/00/32/70/92/1000_F_32709219_eUEJoIqlKuOqpOMkGSR6QI9sNsA2djS7.jpg" position="0 1 0" radius="1"></a-sphere>
      <a-plane position="0 0 -4" rotation="-90 0 0" width="100" height="100" src="https://as2.ftcdn.net/v2/jpg/03/05/77/51/1000_F_305775190_pfhJSdSpTjYG1cERgWb4wLLrQQPco1fU.jpg"></a-plane>
      <a-sky src="https://t3.ftcdn.net/jpg/01/02/64/28/360_F_102642850_Mca9lTRDH60DQin39YwCF5Jzd15lcdoo.jpg"></a-sky>
      <a-entity id="rig" position="25 10 0">
        <a-entity id="camera" camera look-controls position="0 1.6 0" wasd-controls-enabled="false"></a-entity>
        <!-- Adicione o componente customizado para controlar a altura -->
        <a-entity id="controls" controls></a-entity>
      </a-entity>

      <!-- Setas para cima e para baixo -->
      <div id="controlsUI">
        <div id="upArrow" class="arrow" onclick="moveUp()">▲</div>
        <div id="downArrow" class="arrow" onclick="moveDown()">▼</div>
      </div>
    </a-scene>

    <style>
      #controlsUI {
        position: absolute;
        bottom: 10px;
        left: 10px;
        display: flex;
        flex-direction: column;
      }

      .arrow {
        cursor: pointer;
        font-size: 20px;
        margin-bottom: 10px;
      }
    </style>

    <script>
      AFRAME.registerComponent('controls', {
        init: function () {
          this.velocity = new THREE.Vector3();
        },
        tick: function (time, timeDelta) {
          const currentPosition = this.el.getAttribute('position');
          // Atualiza a posição vertical da câmera com base na velocidade
          currentPosition.y += this.velocity.y * (timeDelta / 1000);
          this.el.setAttribute('position', currentPosition);
        }
      });

      function moveUp() {
        document.querySelector('#rig').components.controls.velocity.y = 1.5;
      }

      function moveDown() {
        document.querySelector('#rig').components.controls.velocity.y = -1.5;
      }

      function stopMove() {
        document.querySelector('#rig').components.controls.velocity.y = 0;
      }

      // Adiciona eventos para parar o movimento quando a seta for liberada
      document.querySelector('#upArrow').addEventListener('mouseup', stopMove);
      document.querySelector('#downArrow').addEventListener('mouseup', stopMove);
    </script>
  </body>
</h
